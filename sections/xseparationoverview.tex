\section{Approach}
\label{sec:approach}
%Compared to other code generation approaches, the philosophy of XSeparation is different.
This section presents our approach to establish a bidirectional mapping between architecture model and code.


\subsection{Approach overview}
%The reason that makes the model-code synchronization hard is the lack of a bidirectional mapping between architecture and implementation.
Current programming language elements are at a lower level of abstraction than architecture elements \cite{DeSilva2012}.
To establish a bidirectional mapping, we therefore raise the abstraction level of a programming language by introducing additional programming constructs.
We demonstrate the case, in which the programming language is C++.

Fig. \ref{fig:mappingoverview} shows the overview of our approach.
From an existing programming language, the additional constructs are created to form an \tb{Extended Programming Language}, which is the working language for programmers.
We establish a bidirectional mapping between the architecture model and the \tb{Intermediate code}, which conforms to the extended language.
The \tb{Intermediate code} is written similarly to the \tb{Standard code}, which conforms the existing programming language, and contains the syntax surface for the additional constructs. 
By this way, the \tb{Intermediate code} can seamlessly reuse legacy code written in the existing programming language and programming facilities such as syntax highlights and auto-completion in integrated development environments (IDEs) can be fully used for assisting the development of the \tb{Intermediate code}. 
The \tb{Intermediate code} is transformed to the \tb{Standard code}, which is used for compilation.

In the next subsection, we present the additional constructs with an illustrative example.


\begin{figure}
	\centering
	\includegraphics[clip, trim=0cm 15cm 9.1cm 0cm, width=\columnwidth]{figures/mappingoverview.pdf}
	\caption{Approach overview} 
	\label{fig:mappingoverview}
\end{figure}

\input{sections/mapping}

\input{sections/compilation}